{"version":3,"file":"plugins.min.js","sources":["../src/utils.ts","../src/Parallax.ts","../src/Fade.ts","../src/AutoPlay.ts","../src/event.ts","../src/const.ts","../src/Arrow.ts","../src/Sync.ts","../src/Perspective.ts","../src/pagination/renderer/Renderer.ts","../src/pagination/renderer/BulletRenderer.ts","../src/pagination/renderer/FractionRenderer.ts","../src/pagination/renderer/ScrollBulletRenderer.ts","../src/pagination/Pagination.ts"],"sourcesContent":["export const addClass = (el: HTMLElement, className: string) => {\n  if (!el) return;\n\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    const classes = el.className.split(\" \");\n\n    if (classes.indexOf(className) < 0) {\n      el.className = `${el.className} ${className}`;\n    }\n  }\n};\n\nexport const removeClass = (el: HTMLElement, className: string) => {\n  if (!el) return;\n\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    const classRegex = new RegExp(`( |^)${className}( |$)`, \"g\");\n    el.className.replace(classRegex, \" \");\n  }\n};\n\nexport const getElement = (selector: string, parent: HTMLElement, pluginName: string) => {\n  const el = parent.querySelector(selector);\n\n  if (!el) {\n    throw new Error(`[Flicking-${pluginName}] Couldn't find element with the given selector: ${selector}`);\n  }\n\n  return el as HTMLElement;\n};\n","import Flicking, { EVENTS, Plugin } from \"@egjs/flicking\";\n\n/**\n * You can apply parallax effect while panel is moving.\n * @ko 패널들을 움직이면서 parallax 효과를 부여할 수 있습니다.\n * @memberof Flicking.Plugins\n */\nclass Parallax implements Plugin {\n  private _flicking: Flicking | null;\n\n  /* Options  */\n  private _selector: string;\n  private _scale: number;\n\n  public get selector() { return this._selector; }\n  public get scale() { return this._scale; }\n\n  public set selector(val: string) { this._selector = val; }\n  public set scale(val: number) { this._scale = val; }\n\n  /**\n   * @param {string} selector Selector of the element to apply parallax effect<ko> Parallax 효과를 적용할 엘리먼트의 선택자 </ko>\n   * @param {number} scale Effect amplication scale<ko>효과 증폭도</ko>\n   * @example\n   * ```ts\n   * flicking.addPlugins(new Parallax(\"img\", 1));\n   * ```\n   */\n  public constructor(selector = \"\", scale = 1) {\n    this._flicking = null;\n    this._selector = selector;\n    this._scale = scale;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    flicking.on(EVENTS.MOVE, this._onMove);\n    flicking.on(EVENTS.AFTER_RESIZE, this.update);\n    this._onMove();\n  }\n\n  public destroy(): void {\n    if (!this._flicking) return;\n\n    this._flicking.off(EVENTS.MOVE, this._onMove);\n    this._flicking.off(EVENTS.AFTER_RESIZE, this.update);\n    this._flicking = null;\n  }\n\n  public update = (): void => {\n    this._onMove();\n  };\n\n  private _onMove = (): void => {\n    const flicking = this._flicking;\n\n    if (!flicking) return;\n\n    const panels = flicking.visiblePanels;\n\n    panels.forEach(panel => {\n      const progress = panel.outsetProgress;\n      const el = panel.element;\n      const target = this._selector ? el.querySelector<HTMLElement>(this._selector)! : el;\n      const parentTarget = target.parentNode as Element;\n      const rect = target.getBoundingClientRect();\n      const parentRect = parentTarget.getBoundingClientRect();\n      const position = (parentRect.width - rect.width) / 2 * progress * this._scale;\n      const transform = `translate(-50%) translate(${position}px)`;\n      const style = target.style;\n\n      style.cssText += `transform: ${transform};-webkit-transform: ${transform};-ms-transform:${transform}`;\n    });\n  };\n}\nexport default Parallax;\n","import Flicking, { EVENTS, Plugin } from \"@egjs/flicking\";\n\n/**\n * You can apply fade in / out effect while panel is moving.\n * @ko 패널들을 움직이면서 fade in / out 효과를 부여할 수 있습니다.\n * @memberof Flicking.Plugins\n */\nclass Fade implements Plugin {\n  private _flicking: Flicking | null;\n\n  /* Options  */\n  private _selector: string;\n  private _scale: number;\n\n  public get selector() { return this._selector; }\n  public get scale() { return this._scale; }\n\n  public set selector(val: string) { this._selector = val; }\n  public set scale(val: number) { this._scale = val; }\n\n  /**\n   * @param - The selector of the element to which the fade effect is to be applied. If the selector is blank, it applies to panel element. <ko>Fade 효과를 적용할 대상의 선택자. 선택자가 공백이면 패널 엘리먼트에 적용된다.</ko>\n   * @param - Effect amplication scale<ko>효과 증폭도</ko>\n   * @example\n   * ```ts\n   * flicking.addPlugins(new Fade(\"p\", 1));\n   * ```\n   */\n  public constructor(selector = \"\", scale = 1) {\n    this._flicking = null;\n    this._selector = selector;\n    this._scale = scale;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    flicking.on(EVENTS.MOVE, this._onMove);\n    flicking.on(EVENTS.AFTER_RESIZE, this.update);\n    this._onMove();\n  }\n\n  public destroy(): void {\n    if (!this._flicking) return;\n\n    this._flicking.off(EVENTS.MOVE, this._onMove);\n    this._flicking.off(EVENTS.AFTER_RESIZE, this.update);\n    this._flicking = null;\n  }\n\n  public update = (): void => {\n    this._onMove();\n  };\n\n  private _onMove = (): void => {\n    const flicking = this._flicking;\n    const selector = this._selector;\n    const scale = this._scale;\n\n    if (!flicking) return;\n\n    const panels = flicking.visiblePanels;\n\n    panels.forEach(panel => {\n      const progress = panel.outsetProgress;\n      const el = panel.element;\n      const target = selector ? el.querySelector<HTMLElement>(selector)! : el;\n\n      if (target) {\n        const opacity = Math.min( 1, Math.max(0, 1 - Math.abs(progress * scale)));\n        target.style.opacity = `${opacity}`;\n      }\n    });\n  };\n}\n\nexport default Fade;\n","import Flicking, { EVENTS, Plugin, DIRECTION, MOVE_TYPE } from \"@egjs/flicking\";\n\ninterface AutoPlayOptions {\n  duration: number;\n  animationDuration: number | undefined;\n  direction: typeof DIRECTION[\"NEXT\"] | typeof DIRECTION[\"PREV\"];\n  stopOnHover: boolean;\n  delayAfterHover: number;\n}\n\n/**\n * Plugin that allow you to automatically move to the next/previous panel, on a specific time basis\n * @ko 일정 시간마다, 자동으로 다음/이전 패널로 넘어가도록 할 수 있는 플러그인\n * @memberof Flicking.Plugins\n */\nclass AutoPlay implements Plugin {\n  /* Options */\n  private _duration: AutoPlayOptions[\"duration\"];\n  private _animationDuration: AutoPlayOptions[\"animationDuration\"];\n  private _direction: AutoPlayOptions[\"direction\"];\n  private _stopOnHover: AutoPlayOptions[\"stopOnHover\"];\n  private _delayAfterHover: AutoPlayOptions[\"delayAfterHover\"];\n\n  /* Internal Values */\n  private _flicking: Flicking | null = null;\n  private _timerId = 0;\n  private _mouseEntered = false;\n  private _playing = false;\n\n  public get duration() { return this._duration; }\n  public get animationDuration() { return this._animationDuration; }\n  public get direction() { return this._direction; }\n  public get stopOnHover() { return this._stopOnHover; }\n  public get delayAfterHover() { return this._delayAfterHover; }\n  public get playing() { return this._playing; }\n\n  public set duration(val: number) { this._duration = val; }\n  public set animationDuration(val: number | undefined) { this._animationDuration = val; }\n  public set direction(val: AutoPlayOptions[\"direction\"]) { this._direction = val; }\n  public set stopOnHover(val: boolean) { this._stopOnHover = val; }\n  public set delayAfterHover(val: number) { this._delayAfterHover = val; }\n\n  /**\n   * @param {AutoPlayOptions} options Options for the AutoPlay instance.<ko>AutoPlay 옵션</ko>\n   * @param {number} options.duration Time to wait before moving on to the next panel.<ko>다음 패널로 움직이기까지 대기 시간</ko>\n   * @param {number | undefined} options.animationDuration Duration of animation of moving to the next panel. If undefined, duration option of the Flicking instance is used instead.<ko>패널이 움직이는 애니메이션의 지속 시간, undefined라면 Flicking 인스턴스의 duration 값을 사용한다</ko>\n   * @param {\"PREV\" | \"NEXT\"} options.direction The direction in which the panel moves.<ko>패널이 움직이는 방향</ko>\n   * @param {boolean} options.stopOnHover Whether to stop when mouse hover upon the element.<ko>엘리먼트에 마우스를 올렸을 때 AutoPlay를 정지할지 여부</ko>\n   * @param {number} options.delayAfterHover If stopOnHover is true, the amount of time to wait before moving on to the next panel when mouse leaves the element.<ko>stopOnHover를 사용한다면 마우스가 엘리먼트로부터 나간 뒤 다음 패널로 움직이기까지 대기 시간</ko>\n   * @example\n   * ```ts\n   * flicking.addPlugins(new AutoPlay({ duration: 2000, direction: \"NEXT\" }));\n   * ```\n   */\n  public constructor({\n    duration = 2000,\n    animationDuration = undefined,\n    direction = DIRECTION.NEXT,\n    stopOnHover = false,\n    delayAfterHover\n  }: Partial<AutoPlayOptions> = {}) {\n    this._duration = duration;\n    this._animationDuration = animationDuration;\n    this._direction = direction;\n    this._stopOnHover = stopOnHover;\n    this._delayAfterHover = delayAfterHover ?? duration;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    flicking.on({\n      [EVENTS.MOVE_START]: this.stop,\n      [EVENTS.HOLD_START]: this.stop,\n      [EVENTS.MOVE_END]: this.play,\n      [EVENTS.SELECT]: this.play\n    });\n\n    this._flicking = flicking;\n    if (this._stopOnHover) {\n      const targetEl = this._flicking.element;\n      targetEl.addEventListener(\"mouseenter\", this._onMouseEnter, false);\n      targetEl.addEventListener(\"mouseleave\", this._onMouseLeave, false);\n    }\n\n    this.play();\n  }\n\n  public destroy(): void {\n    const flicking = this._flicking;\n\n    this._mouseEntered = false;\n    this.stop();\n\n    if (!flicking) {\n      return;\n    }\n\n    flicking.off(EVENTS.MOVE_START, this.stop);\n    flicking.off(EVENTS.HOLD_START, this.stop);\n    flicking.off(EVENTS.MOVE_END, this.play);\n    flicking.off(EVENTS.SELECT, this.play);\n\n    const targetEl = flicking.element;\n    targetEl.removeEventListener(\"mouseenter\", this._onMouseEnter, false);\n    targetEl.removeEventListener(\"mouseleave\", this._onMouseLeave, false);\n\n    this._flicking = null;\n  }\n\n  public update(): void {\n    // DO-NOTHING\n  }\n\n  public play = () => {\n    this._movePanel(this._duration);\n  };\n\n  public stop = () => {\n    this._playing = false;\n    clearTimeout(this._timerId);\n  };\n\n  private _movePanel(duration: number): void {\n    const flicking = this._flicking;\n    const direction = this._direction;\n\n    if (!flicking) {\n      return;\n    }\n\n    this.stop();\n\n    if (this._mouseEntered || flicking.animating) {\n      return;\n    }\n\n    this._playing = true;\n    this._timerId = window.setTimeout(() => {\n      let animationDuration = this._animationDuration || flicking.duration;\n      const moveType = flicking.moveType;\n      // for freeScroll\n      if (moveType === MOVE_TYPE.FREE_SCROLL || moveType?.[0] === MOVE_TYPE.FREE_SCROLL) {\n        const range = flicking.camera.range;\n        const cameraPosition = flicking.camera.position;\n        const currentPanel = flicking.currentPanel;\n        const prevPanel = currentPanel.prev();\n        const nextPanel = currentPanel.next();\n        const currentPosition = currentPanel.position;\n        let nextPosition = nextPanel?.position ?? range.max;\n        let prevPosition = prevPanel?.position ?? range.min;\n\n        // circular: prev (last) > cur (0) => prev(-1) < cur(0)\n        if (prevPosition > currentPosition) {\n          prevPosition = range.min - (range.max - prevPosition);\n        }\n        // current (last) > next (0)\n        if (nextPosition < currentPosition) {\n          nextPosition += range.max;\n        }\n        if (direction === DIRECTION.NEXT) {\n          // prev - cur - camera - next\n          const size = nextPosition - currentPosition;\n          let restSize = nextPosition - cameraPosition;\n\n          if (cameraPosition < currentPosition) {\n            // prev - camera - cur - next\n            restSize = nextPosition - cameraPosition;\n          }\n\n          animationDuration *= restSize / size;\n        } else {\n          // prev - caemra - cur - next\n          const size = currentPosition - prevPosition;\n          let restSize = cameraPosition - prevPosition;\n\n          if (cameraPosition > currentPosition) {\n            // prev - cur - camera - next\n            restSize = cameraPosition - prevPosition;\n          }\n          animationDuration *= restSize / size;\n        }\n      }\n\n      if (direction === DIRECTION.NEXT) {\n        flicking.next(animationDuration).catch(() => void 0);\n      } else {\n        flicking.prev(animationDuration).catch(() => void 0);\n      }\n\n      this.play();\n    }, duration);\n  }\n\n  private _onMouseEnter = () => {\n    this._mouseEntered = true;\n    this.stop();\n  };\n\n  private _onMouseLeave = () => {\n    this._mouseEntered = false;\n    this._movePanel(this._delayAfterHover);\n  };\n}\n\nexport default AutoPlay;\n","export const BROWSER = {\n  CLICK: \"click\",\n  MOUSE_DOWN: \"mousedown\",\n  TOUCH_START: \"touchstart\"\n};\n","export const ARROW = {\n  PREV_SELECTOR: \".flicking-arrow-prev\",\n  NEXT_SELECTOR: \".flicking-arrow-next\",\n  DISABLED_CLASS: \"flicking-arrow-disabled\"\n} as const;\n\nexport const PAGINATION = {\n  SELECTOR: \".flicking-pagination\",\n  PREFIX: \"flicking-pagination\",\n  BULLET_WRAPPER_SUFFIX: \"bullets\",\n  BULLET_SUFFIX: \"bullet\",\n  BULLET_ACTIVE_SUFFIX: \"bullet-active\",\n  FRACTION_WRAPPER_SUFFIX: \"fraction\",\n  FRACTION_CURRENT_SUFFIX: \"fraction-current\",\n  FRACTION_TOTAL_SUFFIX: \"fraction-total\",\n  SCROLL_UNINIT_SUFFIX: \"uninitialized\",\n  SCROLL_WRAPPER_SUFFIX: \"scroll\",\n  SCROLL_SLIDER_SUFFIX: \"slider\",\n  SCROLL_PREV_SUFFIX: \"bullet-prev\",\n  SCROLL_NEXT_SUFFIX: \"bullet-next\",\n  TYPE: {\n    BULLET: \"bullet\",\n    FRACTION: \"fraction\",\n    SCROLL: \"scroll\"\n  }\n} as const;\n\nexport const SYNC = {\n  TYPE: {\n    CAMERA: \"camera\",\n    INDEX: \"index\"\n  }\n} as const;\n","import Flicking, { EVENTS, FlickingError, Plugin } from \"@egjs/flicking\";\n\nimport { BROWSER } from \"./event\";\nimport { ARROW } from \"./const\";\nimport { addClass, getElement, removeClass } from \"./utils\";\n\ninterface ArrowOptions {\n  parentEl: HTMLElement | null;\n  prevElSelector: string;\n  nextElSelector: string;\n  disabledClass: string;\n  moveCount: number;\n  moveByViewportSize: boolean;\n}\n\n/**\n * A plugin to easily create prev/right arrow button of Flicking\n * @ko 이전/다음 버튼을 쉽게 만들 수 있는 플러그인\n * @memberof Flicking.Plugins\n */\nclass Arrow implements Plugin {\n  /* Internal Values */\n  private _flicking: Flicking | null = null;\n  private _prevEl: HTMLElement;\n  private _nextEl: HTMLElement;\n\n  /* Options */\n  private _parentEl: ArrowOptions[\"parentEl\"];\n  private _prevElSelector: ArrowOptions[\"prevElSelector\"];\n  private _nextElSelector: ArrowOptions[\"nextElSelector\"];\n  private _disabledClass: ArrowOptions[\"disabledClass\"];\n  private _moveCount: ArrowOptions[\"moveCount\"];\n  private _moveByViewportSize: ArrowOptions[\"moveByViewportSize\"];\n\n  public get prevEl() { return this._prevEl; }\n  public get nextEl() { return this._nextEl; }\n\n  public get parentEl() { return this._parentEl; }\n  public get prevElSelector() { return this._prevElSelector; }\n  public get nextElSelector() { return this._nextElSelector; }\n  public get disabledClass() { return this._disabledClass; }\n  public get moveCount() { return this._moveCount; }\n  public get moveByViewportSize() { return this._moveByViewportSize; }\n\n  public set parentEl(val: ArrowOptions[\"parentEl\"]) { this._parentEl = val; }\n  public set prevElSelector(val: ArrowOptions[\"prevElSelector\"]) { this._prevElSelector = val; }\n  public set nextElSelector(val: ArrowOptions[\"nextElSelector\"]) { this._nextElSelector = val; }\n  public set disabledClass(val: ArrowOptions[\"disabledClass\"]) { this._disabledClass = val; }\n  public set moveCount(val: ArrowOptions[\"moveCount\"]) { this._moveCount = val; }\n  public set moveByViewportSize(val: ArrowOptions[\"moveByViewportSize\"]) { this._moveByViewportSize = val; }\n\n  public constructor({\n    parentEl = null,\n    prevElSelector = ARROW.PREV_SELECTOR,\n    nextElSelector = ARROW.NEXT_SELECTOR,\n    disabledClass = ARROW.DISABLED_CLASS,\n    moveCount = 1,\n    moveByViewportSize = false\n  }: Partial<ArrowOptions> = {}) {\n    this._parentEl = parentEl;\n    this._prevElSelector = prevElSelector;\n    this._nextElSelector = nextElSelector;\n    this._disabledClass = disabledClass;\n    this._moveCount = moveCount;\n    this._moveByViewportSize = moveByViewportSize;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    flicking.on(EVENTS.MOVE, this._onAnimation);\n\n    const parentEl = this._parentEl ? this._parentEl : flicking.element;\n    const prevEl = getElement(this._prevElSelector, parentEl, \"Arrow\");\n    const nextEl = getElement(this._nextElSelector, parentEl, \"Arrow\");\n\n    [BROWSER.MOUSE_DOWN, BROWSER.TOUCH_START].forEach(evt => {\n      prevEl.addEventListener(evt, this._preventInputPropagation, { passive: true });\n      nextEl.addEventListener(evt, this._preventInputPropagation, { passive: true });\n    });\n\n    prevEl.addEventListener(BROWSER.CLICK, this._onPrevClick);\n    nextEl.addEventListener(BROWSER.CLICK, this._onNextClick);\n\n    this._prevEl = prevEl;\n    this._nextEl = nextEl;\n\n    this.update();\n  }\n\n  public destroy(): void {\n    const flicking = this._flicking;\n\n    if (!flicking) {\n      return;\n    }\n\n    flicking.off(EVENTS.MOVE, this._onAnimation);\n\n    const prevEl = this._prevEl;\n    const nextEl = this._nextEl;\n\n    [BROWSER.MOUSE_DOWN, BROWSER.TOUCH_START].forEach(evt => {\n      prevEl.removeEventListener(evt, this._preventInputPropagation);\n      nextEl.removeEventListener(evt, this._preventInputPropagation);\n    });\n\n    prevEl.removeEventListener(BROWSER.CLICK, this._onPrevClick);\n    nextEl.removeEventListener(BROWSER.CLICK, this._onNextClick);\n    this._flicking = null;\n  }\n\n  public update(): void {\n    this._updateClass(this._flicking!.camera.position);\n  }\n\n  private _preventInputPropagation = (e: Event) => {\n    e.stopPropagation();\n  };\n\n  private _onPrevClick = () => {\n    const flicking = this._flicking!;\n    const camera = flicking.camera;\n    const anchorPoints = camera.anchorPoints;\n\n    if (flicking.animating || anchorPoints.length <= 0) return;\n\n    const firstAnchor = anchorPoints[0];\n    const moveCount = this._moveCount;\n\n    if (this._moveByViewportSize) {\n      flicking.control.moveToPosition(camera.position - camera.size, flicking.duration)\n        .catch(this._onCatch);\n    } else {\n      if (flicking.circularEnabled) {\n        let targetPanel = flicking.currentPanel;\n\n        for (let i = 0; i < moveCount; i++) {\n          targetPanel = targetPanel.prev()!;\n        }\n\n        targetPanel.focus().catch(this._onCatch);\n      } else if (flicking.index > firstAnchor.panel.index) {\n        flicking.moveTo(Math.max(flicking.index - moveCount, firstAnchor.panel.index))\n          .catch(this._onCatch);\n      } else if (camera.position > camera.range.min) {\n        flicking.moveTo(flicking.index)\n          .catch(this._onCatch);\n      }\n    }\n  };\n\n  private _onNextClick = () => {\n    const flicking = this._flicking!;\n\n    const camera = flicking.camera;\n    const anchorPoints = camera.anchorPoints;\n\n    if (flicking.animating || anchorPoints.length <= 0) return;\n\n    const lastAnchor = anchorPoints[anchorPoints.length - 1];\n    const moveCount = this._moveCount;\n\n    if (this._moveByViewportSize) {\n      flicking.control.moveToPosition(camera.position + camera.size, flicking.duration)\n        .catch(this._onCatch);\n    } else {\n      if (flicking.circularEnabled) {\n        let targetPanel = flicking.currentPanel;\n\n        for (let i = 0; i < moveCount; i++) {\n          targetPanel = targetPanel.next()!;\n        }\n\n        targetPanel.focus().catch(this._onCatch);\n      } else if (flicking.index < lastAnchor.panel.index) {\n        flicking.moveTo(Math.min(flicking.index + moveCount, lastAnchor.panel.index))\n          .catch(this._onCatch);\n      } else if (camera.position > camera.range.min) {\n        flicking.moveTo(flicking.index)\n          .catch(this._onCatch);\n      }\n    }\n  };\n\n  private _onAnimation = () => {\n    const flicking = this._flicking!;\n    const camera = flicking.camera;\n    const controller = flicking.control.controller;\n\n    if (flicking.holding) {\n      this._updateClass(camera.position);\n    } else {\n      this._updateClass(controller.animatingContext.end);\n    }\n  };\n\n  private _updateClass(pos: number) {\n    const flicking = this._flicking!;\n    const disabledClass = this._disabledClass;\n    const prevEl = this._prevEl;\n    const nextEl = this._nextEl;\n    const cameraRange = flicking.camera.range;\n\n    const stopAtPrevEdge = flicking.circularEnabled\n      ? false\n      : pos <= cameraRange.min;\n    const stopAtNextEdge = flicking.circularEnabled\n      ? false\n      : pos >= cameraRange.max;\n\n    if (stopAtPrevEdge) {\n      addClass(prevEl, disabledClass);\n    } else {\n      removeClass(prevEl, disabledClass);\n    }\n\n    if (stopAtNextEdge) {\n      addClass(nextEl, disabledClass);\n    } else {\n      removeClass(nextEl, disabledClass);\n    }\n  }\n\n  private _onCatch = (err: Error) => {\n    if (err instanceof FlickingError) return;\n    throw err;\n  };\n}\n\nexport default Arrow;\n","import Flicking, { clamp, EVENTS } from \"@egjs/flicking\";\nimport type { MoveEndEvent, MoveEvent, MoveStartEvent, Plugin, WillChangeEvent, SelectEvent } from \"@egjs/flicking\";\n\nimport { SYNC } from \"./const\";\nimport { addClass, removeClass } from \"./utils\";\n\n/**\n * @property {string} [type=\"camera\"] Types of methods to synchronize between Flickings. \"camera\" will sync by camera position, and \"index\" will sync by panel index\n * @property {SychronizableFlickingOptions} [synchronizedFlickingOptions=[]]\tDetailed options for syncing Flickings.\n */\nexport interface SyncOptions {\n  type: typeof SYNC.TYPE.CAMERA | typeof SYNC.TYPE.INDEX;\n  synchronizedFlickingOptions: SychronizableFlickingOptions[];\n}\n\n/**\n * @property {Flicking} flicking An instance of Flicking to sync\n * @property {boolean} [isClickable=false] By enabling this option, clicking the given Flicking's panel will change the given & other Flicking's index\n * @property {boolean} [isSlidable=false] By enabling this option, the given Flicking's scroll with mouse/touch input will change other Flicking's index. Only available for the index type\n * @property {string | undefined} [activeClass=undefined] An extra class for the panels when selected\n */\nexport interface SychronizableFlickingOptions {\n  flicking: Flicking;\n  isClickable?: boolean;\n  isSlidable?: boolean;\n  activeClass?: string;\n}\n\n/**\n * Plugin for synchronizing multiple flickings\n * @ko 다양한 형태로 Flicking들이 같이 움직이게 할 수 있습니다.\n * @memberof Flicking.Plugins\n */\nclass Sync implements Plugin {\n  /* Internal Values */\n  private _flicking: Flicking | null = null;\n\n  /* Options */\n  private _type: SyncOptions[\"type\"];\n  private _synchronizedFlickingOptions: SyncOptions[\"synchronizedFlickingOptions\"];\n\n  public get type() { return this._type; }\n  public get synchronizedFlickingOptions() { return this._synchronizedFlickingOptions; }\n\n  public set type(val: SyncOptions[\"type\"]) {\n    this._type = val;\n  }\n\n  public set synchronizedFlickingOptions(val: SyncOptions[\"synchronizedFlickingOptions\"]) {\n    this._synchronizedFlickingOptions = val;\n  }\n\n  /** */\n  public constructor({\n    type = SYNC.TYPE.CAMERA,\n    synchronizedFlickingOptions = []\n  }: Partial<SyncOptions> = {}) {\n    this._type = type;\n    this._synchronizedFlickingOptions = synchronizedFlickingOptions;\n  }\n\n  public init(flicking: Flicking): void {\n    const synced = this._synchronizedFlickingOptions;\n\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    this._addEvents();\n\n    synced.forEach(options => {\n      const { flicking: syncedFlicking } = options;\n\n      this._updateClass(options, syncedFlicking.defaultIndex);\n    });\n  }\n\n  public destroy(): void {\n    const flicking = this._flicking;\n\n    if (!flicking) {\n      return;\n    }\n\n    this._removeEvents();\n\n    this._flicking = null;\n  }\n\n  public update(): void {\n    this._synchronizedFlickingOptions.forEach(options => {\n      this._updateClass(options, options.flicking.index);\n    });\n  }\n\n  private _preventEvent(fn: () => void) {\n    this._removeEvents();\n    fn();\n    this._addEvents();\n  }\n\n  private _addEvents = (): void => {\n    const type = this._type;\n    const synced = this._synchronizedFlickingOptions;\n\n    synced.forEach(({ flicking, isSlidable, isClickable }) => {\n      if (type === SYNC.TYPE.CAMERA) {\n        flicking.on(EVENTS.MOVE, this._onMove);\n        flicking.on(EVENTS.MOVE_START, this._onMoveStart);\n        flicking.on(EVENTS.MOVE_END, this._onMoveEnd);\n      }\n      if (type === SYNC.TYPE.INDEX && isSlidable) {\n        flicking.on(EVENTS.WILL_CHANGE, this._onIndexChange);\n        flicking.on(EVENTS.WILL_RESTORE, this._onIndexChange);\n      }\n      if (isClickable) {\n        flicking.on(EVENTS.SELECT, this._onSelect);\n      }\n    });\n  };\n\n  private _removeEvents = (): void => {\n    const type = this._type;\n    const synced = this._synchronizedFlickingOptions;\n\n    synced.forEach(({ flicking, isSlidable, isClickable }) => {\n      if (type === SYNC.TYPE.CAMERA) {\n        flicking.off(EVENTS.MOVE, this._onMove);\n        flicking.off(EVENTS.MOVE_START, this._onMoveStart);\n        flicking.off(EVENTS.MOVE_END, this._onMoveEnd);\n      }\n      if (type === SYNC.TYPE.INDEX && isSlidable) {\n        flicking.off(EVENTS.WILL_CHANGE, this._onIndexChange);\n        flicking.off(EVENTS.WILL_RESTORE, this._onIndexChange);\n      }\n      if (isClickable) {\n        flicking.off(EVENTS.SELECT, this._onSelect);\n      }\n    });\n  };\n\n  private _onIndexChange = (e: WillChangeEvent): void => {\n    const flicking = e.currentTarget;\n\n    if (!flicking.initialized) {\n      return;\n    }\n\n    this._synchronizeByIndex(flicking, e.index);\n  };\n\n  private _onMove = (e: MoveEvent): void => {\n    const camera = e.currentTarget.camera;\n    const progress = (camera.position - camera.range.min) / camera.rangeDiff;\n\n    this._synchronizedFlickingOptions.forEach(({ flicking }) => {\n      if (flicking === e.currentTarget) return;\n\n      let targetPosition = 0;\n\n      if (camera.position < camera.range.min) {\n        targetPosition = camera.position;\n      } else if (camera.position > camera.range.max) {\n        targetPosition = flicking.camera.range.max + camera.position - camera.range.max;\n      } else {\n        targetPosition = flicking.camera.range.min + flicking.camera.rangeDiff * progress;\n      }\n\n      void flicking.camera.lookAt(targetPosition);\n    });\n  };\n\n  private _onMoveStart = (e: MoveStartEvent): void => {\n    this._synchronizedFlickingOptions.forEach(({ flicking }) => {\n      if (flicking !== e.currentTarget) {\n        flicking.disableInput();\n      }\n    });\n  };\n\n  private _onMoveEnd = (e: MoveEndEvent): void => {\n    this._synchronizedFlickingOptions.forEach(({ flicking }) => {\n      if (flicking !== e.currentTarget) {\n        flicking.enableInput();\n        flicking.control.updateInput();\n      }\n    });\n  };\n\n  private _onSelect = (e: SelectEvent): void => {\n    void e.currentTarget.moveTo(e.index).catch(() => void 0);\n\n    this._synchronizeByIndex(e.currentTarget, e.index);\n  };\n\n  private _synchronizeByIndex = (activeFlicking: Flicking, index: number): void => {\n    const synchronizedFlickingOptions = this._synchronizedFlickingOptions;\n\n    this._preventEvent(() => {\n      synchronizedFlickingOptions.forEach(options => {\n        // Active class should be applied same to the Flicking which triggered event\n        this._updateClass(options, index);\n\n        const { flicking } = options;\n        if (flicking === activeFlicking) return;\n\n        const targetIndex = clamp(index, 0, flicking.panels.length);\n\n        if (flicking.animating) {\n          // Reserve moveTo once previous animation is finished\n          flicking.once(EVENTS.MOVE_END, () => {\n            void flicking.moveTo(targetIndex).catch(() => void 0);\n          });\n        } else {\n          void flicking.moveTo(targetIndex);\n        }\n      });\n    });\n  };\n\n  private _updateClass = ({ flicking, activeClass }: SychronizableFlickingOptions, index: number): void => {\n    if (!activeClass) return;\n\n    flicking.panels.forEach(panel => {\n      if (panel.index === index)  {\n        addClass(panel.element, activeClass);\n      } else {\n        removeClass(panel.element, activeClass);\n      }\n    });\n  };\n}\n\nexport default Sync;\n","/* eslint-disable no-underscore-dangle */\nimport Flicking, { EVENTS, Plugin } from \"@egjs/flicking\";\n\ninterface PerspectiveOptions {\n  selector: string;\n  scale: number;\n  rotate: number;\n  perspective: number;\n}\n\n/**\n * You can apply perspective effect while panel is moving.\n * @ko 패널들을 움직이면서 입체감을 부여할 수 있습니다.\n * @memberof Flicking.Plugins\n */\nclass Perspective implements Plugin {\n  private _flicking: Flicking | null;\n\n  /* Options  */\n  private _selector: PerspectiveOptions[\"selector\"];\n  private _scale: PerspectiveOptions[\"scale\"];\n  private _rotate: PerspectiveOptions[\"rotate\"];\n  private _perspective: PerspectiveOptions[\"perspective\"];\n\n  public get selector() { return this._selector; }\n  public get scale() { return this._scale; }\n  public get rotate() { return this._rotate; }\n  public get perspective() { return this._perspective; }\n\n  public set selector(val: string) { this._selector = val; }\n  public set scale(val: number) { this._scale = val; }\n  public set rotate(val: number) { this._rotate = val; }\n  public set perspective(val: number) { this._perspective = val; }\n\n  /**\n   * @param - The selector of the element to which the perspective effect is to be applied. If the selector is blank, it applies to panel element. <ko>입체 효과를 적용할 대상의 선택자. 선택자가 공백이면 패널 엘리먼트에 적용된다.</ko>\n   * @param - Effect amplication scale.<ko>효과 증폭도</ko>\n   * @param - Effect amplication rotate.<ko>회전 증폭도</ko>\n   * @param - The value of perspective CSS property. <ko>css perspective 속성 값</ko>\n   * @example\n   * ```ts\n   * flicking.addPlugins(new Perspective({ selector: \"p\", scale: 1, rotate: 1, perspective = 1000 }));\n   * ```\n   */\n  public constructor({ selector = \"\", scale = 1, rotate = 1, perspective = 1000 }: Partial<PerspectiveOptions> = {}) {\n    this._flicking = null;\n    this._selector = selector;\n    this._scale = scale;\n    this._rotate = rotate;\n    this._perspective = perspective;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    flicking.on(EVENTS.MOVE, this._onMove);\n    flicking.on(EVENTS.AFTER_RESIZE, this.update);\n    this._onMove();\n  }\n\n  public destroy(): void {\n    if (!this._flicking) return;\n\n    this._flicking.off(EVENTS.MOVE, this._onMove);\n    this._flicking.off(EVENTS.AFTER_RESIZE, this.update);\n    this._flicking = null;\n  }\n\n  public update = (): void => {\n    this._onMove();\n  };\n\n  private _onMove = (): void => {\n    const flicking = this._flicking;\n    const selector = this._selector;\n    const scale = this._scale;\n    const rotate =  this._rotate;\n    const perspective = this._perspective;\n\n    if (!flicking) return;\n\n    const horizontal = flicking.horizontal;\n    const panels = flicking.visiblePanels;\n\n    panels.forEach((panel) => {\n      const progress = panel.outsetProgress;\n      const el = panel.element;\n      const target = selector ? el.querySelector<HTMLElement>(selector)! : el;\n      const panelScale = 1 / (Math.abs(progress * scale) + 1);\n      const rotateDegree = progress > 0 ? Math.min(90, progress * 100 * rotate) : Math.max(-90, progress * 100 * rotate);\n      const [rotateX, rotateY] = horizontal ? [0, rotateDegree] : [rotateDegree, 0];\n\n      target.style.transform = `perspective(${perspective}px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${panelScale})`;\n    });\n  };\n}\n\nexport default Perspective;\n","import Flicking, { FlickingError } from \"@egjs/flicking\";\n\nimport { BROWSER } from \"../../event\";\nimport Pagination from \"../Pagination\";\n\nexport interface RendererOptions {\n  flicking: Flicking;\n  pagination: Pagination;\n  wrapper: HTMLElement;\n}\n\nabstract class Renderer {\n  protected _flicking: Flicking;\n  protected _pagination: Pagination;\n  protected _wrapper: HTMLElement;\n\n  public constructor({\n    flicking,\n    pagination,\n    wrapper\n  }: RendererOptions) {\n    this._flicking = flicking;\n    this._pagination = pagination;\n    this._wrapper = wrapper;\n  }\n\n  public abstract destroy(): void;\n  public abstract render(): void;\n  public abstract update(index: number): void;\n\n  protected _createBulletFromString(html: string, index: number) {\n    const range = document.createRange();\n    const frag = range.createContextualFragment(html);\n    const bullet = frag.firstChild as HTMLElement;\n\n    this._addBulletEvents(bullet, index);\n\n    return bullet;\n  }\n\n  protected _addBulletEvents(bullet: HTMLElement, index: number) {\n    const anchorPoints = this._flicking.camera.anchorPoints;\n    const panelIndex = anchorPoints[index].panel.index;\n\n    bullet.addEventListener(BROWSER.MOUSE_DOWN, e => {\n      e.stopPropagation();\n    });\n\n    bullet.addEventListener(BROWSER.TOUCH_START, e => {\n      e.stopPropagation();\n    }, { passive: true });\n\n    bullet.addEventListener(BROWSER.CLICK, () => {\n      this._flicking.moveTo(panelIndex)\n        .catch(err => {\n          if (err instanceof FlickingError) return;\n          throw err;\n        });\n    });\n  }\n}\n\nexport default Renderer;\n","import { PAGINATION } from \"../../const\";\nimport { addClass, removeClass } from \"../../utils\";\n\nimport Renderer from \"./Renderer\";\n\nclass BulletRenderer extends Renderer {\n  private _bullets: HTMLElement[] = [];\n  private _prevIndex: number = -1;\n\n  private get _bulletClass() {\n    const pagination = this._pagination;\n    return `${pagination.classPrefix}-${PAGINATION.BULLET_SUFFIX}`;\n  }\n\n  private get _activeClass() {\n    const pagination = this._pagination;\n    return `${pagination.classPrefix}-${PAGINATION.BULLET_ACTIVE_SUFFIX}`;\n  }\n\n  public destroy() {\n    this._bullets = [];\n    this._prevIndex = -1;\n  }\n\n  public render() {\n    const flicking = this._flicking;\n    const pagination = this._pagination;\n    const wrapper = this._wrapper;\n    const bulletClass = this._bulletClass;\n    const activeClass = this._activeClass;\n    const renderBullet = pagination.renderBullet;\n    const renderActiveBullet = pagination.renderActiveBullet;\n    const bulletWrapperClass = `${pagination.classPrefix}-${PAGINATION.BULLET_WRAPPER_SUFFIX}`;\n    const anchorPoints = flicking.camera.anchorPoints;\n\n    addClass(wrapper, bulletWrapperClass);\n\n    wrapper.innerHTML = anchorPoints\n      .map((anchorPoint, index) => {\n        if (renderActiveBullet && anchorPoint.panel.index === flicking.index) {\n          return renderActiveBullet(bulletClass, index);\n        } else {\n          return renderBullet(bulletClass, index);\n        }\n      })\n      .join(\"\\n\");\n\n    const bullets = [].slice.call(wrapper.children) as HTMLElement[];\n\n    bullets.forEach((bullet, index) => {\n      const anchorPoint = anchorPoints[index];\n\n      if (anchorPoint.panel.index === flicking.index) {\n        addClass(bullet, activeClass);\n        this._prevIndex = index;\n      }\n\n      this._addBulletEvents(bullet, index);\n    });\n\n    this._bullets = bullets;\n  }\n\n  public update(index: number) {\n    const flicking = this._flicking;\n    const pagination = this._pagination;\n    const wrapper = this._wrapper;\n    const bullets = this._bullets;\n    const bulletClass = this._bulletClass;\n    const activeClass = this._activeClass;\n    const prevIndex = this._prevIndex;\n    const anchorPoints = flicking.camera.anchorPoints;\n    const renderBullet = pagination.renderBullet;\n    const renderActiveBullet = pagination.renderActiveBullet;\n\n    if (anchorPoints.length <= 0) return;\n\n    const anchorOffset = anchorPoints[0].panel.index;\n    const activeBulletIndex = index - anchorOffset;\n\n    if (prevIndex === activeBulletIndex) return;\n\n    if (renderActiveBullet) {\n      const prevBullet = bullets[prevIndex];\n      if (prevBullet) {\n        const newBullet = this._createBulletFromString(\n          renderBullet(bulletClass, prevIndex),\n          prevIndex\n        );\n        prevBullet.parentElement!.replaceChild(newBullet, prevBullet);\n        bullets[prevIndex] = newBullet;\n      }\n\n      const activeBullet = bullets[activeBulletIndex];\n      const newActiveBullet = this._createBulletFromString(\n        renderActiveBullet(`${bulletClass} ${activeClass}`, activeBulletIndex),\n        activeBulletIndex\n      );\n\n      wrapper.replaceChild(newActiveBullet, activeBullet);\n      bullets[activeBulletIndex] = newActiveBullet;\n    } else {\n      const activeBullet = bullets[activeBulletIndex];\n      const prevBullet = bullets[prevIndex];\n\n      if (prevBullet) {\n        removeClass(prevBullet, activeClass);\n      }\n\n      addClass(activeBullet, activeClass);\n    }\n\n    this._prevIndex = activeBulletIndex;\n  }\n}\n\nexport default BulletRenderer;\n","import { PAGINATION } from \"../../const\";\nimport { addClass } from \"../../utils\";\n\nimport Renderer from \"./Renderer\";\n\nclass FractionRenderer extends Renderer {\n  private _prevIndex: number = -1;\n  private _prevTotal: number = -1;\n\n  public destroy(): void {\n    this._prevIndex = -1;\n    this._prevTotal = -1;\n  }\n\n  public render() {\n    const flicking = this._flicking;\n    const wrapper = this._wrapper;\n    const pagination = this._pagination;\n    const fractionWrapperClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_WRAPPER_SUFFIX}`;\n    const fractionCurrentClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_CURRENT_SUFFIX}`;\n    const fractionTotalClass = `${pagination.classPrefix}-${PAGINATION.FRACTION_TOTAL_SUFFIX}`;\n\n    addClass(wrapper, fractionWrapperClass);\n\n    wrapper.innerHTML = pagination.renderFraction(fractionCurrentClass, fractionTotalClass);\n\n    this.update(flicking.index);\n  }\n\n  public update(index: number) {\n    const flicking = this._flicking;\n    const wrapper = this._wrapper;\n    const pagination = this._pagination;\n\n    const anchorPoints = flicking.camera.anchorPoints;\n    const currentIndex = anchorPoints.length > 0\n      ? index - anchorPoints[0].panel.index + 1\n      : 0;\n    const anchorCount = anchorPoints.length;\n\n    if (currentIndex === this._prevIndex && anchorCount === this._prevTotal) return;\n\n    const fractionCurrentSelector = `.${pagination.classPrefix}-${PAGINATION.FRACTION_CURRENT_SUFFIX}`;\n    const fractionTotalSelector = `.${pagination.classPrefix}-${PAGINATION.FRACTION_TOTAL_SUFFIX}`;\n\n    const currentWrapper = wrapper.querySelector(fractionCurrentSelector) as HTMLElement;\n    const totalWrapper = wrapper.querySelector(fractionTotalSelector) as HTMLElement;\n\n    currentWrapper.innerHTML = pagination.fractionCurrentFormat(currentIndex);\n    totalWrapper.innerHTML = pagination.fractionTotalFormat(anchorCount);\n\n    this._prevIndex = currentIndex;\n    this._prevTotal = anchorCount;\n  }\n}\n\nexport default FractionRenderer;\n","import { DIRECTION } from \"@egjs/flicking\";\n\nimport { PAGINATION } from \"../../const\";\nimport { addClass, removeClass } from \"../../utils\";\n\nimport Renderer from \"./Renderer\";\n\nclass ScrollBulletRenderer extends Renderer {\n  private _bullets: HTMLElement[] = [];\n  private _bulletSize: number = 0;\n  private _previousIndex: number = -1;\n  private _sliderIndex: number = -1;\n\n  public destroy(): void {\n    this._bullets = [];\n    this._bulletSize = 0;\n    this._previousIndex = -1;\n    this._sliderIndex = -1;\n  }\n\n  public render() {\n    const wrapper = this._wrapper;\n    const flicking = this._flicking;\n    const pagination = this._pagination;\n    const renderBullet = pagination.renderBullet;\n    const anchorPoints = flicking.camera.anchorPoints;\n\n    const dynamicWrapperClass = `${pagination.classPrefix}-${PAGINATION.SCROLL_WRAPPER_SUFFIX}`;\n    const bulletClass = `${pagination.classPrefix}-${PAGINATION.BULLET_SUFFIX}`;\n    const sliderClass = `${pagination.classPrefix}-${PAGINATION.SCROLL_SLIDER_SUFFIX}`;\n    const uninitClass = `${pagination.classPrefix}-${PAGINATION.SCROLL_UNINIT_SUFFIX}`;\n\n    const sliderEl = document.createElement(\"div\");\n\n    addClass(sliderEl, sliderClass);\n    addClass(wrapper, uninitClass);\n    addClass(wrapper, dynamicWrapperClass);\n    wrapper.appendChild(sliderEl);\n\n    sliderEl.innerHTML = anchorPoints\n      .map((_, index) => renderBullet(bulletClass, index))\n      .join(\"\\n\");\n\n    const bullets = [].slice.call(sliderEl.children) as HTMLElement[];\n\n    bullets.forEach((bullet, index) => {\n      this._addBulletEvents(bullet, index);\n    });\n\n    if (bullets.length <= 0) return;\n\n    const bulletStyle = getComputedStyle(bullets[0]);\n    const bulletSize = bullets[0].clientWidth + parseFloat(bulletStyle.marginLeft) + parseFloat(bulletStyle.marginRight);\n\n    wrapper.style.width = `${bulletSize * pagination.bulletCount}px`;\n\n    this._bullets = bullets;\n    this._bulletSize = bulletSize;\n    this._previousIndex = -1;\n\n    this.update(this._flicking.index);\n\n    window.requestAnimationFrame(() => {\n      removeClass(wrapper, uninitClass);\n    });\n  }\n\n  public update(index: number) {\n    const pagination = this._pagination;\n    const flicking = this._flicking;\n    const bullets = this._bullets;\n    const prevIndex = this._previousIndex;\n\n    const renderBullet = pagination.renderBullet;\n    const renderActiveBullet = pagination.renderActiveBullet;\n\n    const anchorPoints = flicking.camera.anchorPoints;\n    const anchorOffset = anchorPoints[0].panel.index;\n    const activeIndex = index - anchorOffset;\n\n    if (anchorPoints.length <= 0) return;\n\n    const bulletClass = `${pagination.classPrefix}-${PAGINATION.BULLET_SUFFIX}`;\n    const bulletActiveClass = `${pagination.classPrefix}-${PAGINATION.BULLET_ACTIVE_SUFFIX}`;\n    const prevClassPrefix = `${pagination.classPrefix}-${PAGINATION.SCROLL_PREV_SUFFIX}`;\n    const nextClassPrefix = `${pagination.classPrefix}-${PAGINATION.SCROLL_NEXT_SUFFIX}`;\n    const bulletPrevClass = (offset: number) => `${prevClassPrefix}${offset > 1 ? offset : \"\"}`;\n    const bulletNextClass = (offset: number) => `${nextClassPrefix}${offset > 1 ? offset : \"\"}`;\n\n    const prevClassRegex = new RegExp(`^${prevClassPrefix}`);\n    const nextClassRegex = new RegExp(`^${nextClassPrefix}`);\n\n    if (renderActiveBullet) {\n      const prevBullet = bullets[prevIndex];\n      if (prevBullet) {\n        const newBullet = this._createBulletFromString(\n          renderBullet(bulletClass, prevIndex),\n          prevIndex\n        );\n        prevBullet.parentElement!.replaceChild(newBullet, prevBullet);\n        bullets[prevIndex] = newBullet;\n      }\n\n      const activeBullet = bullets[activeIndex];\n      if (activeBullet) {\n        const newActiveBullet = this._createBulletFromString(\n          renderActiveBullet(bulletClass, activeIndex),\n          activeIndex\n        );\n\n        activeBullet.parentElement!.replaceChild(newActiveBullet, activeBullet);\n        bullets[activeIndex] = newActiveBullet;\n      }\n    }\n\n    bullets.forEach((bullet, idx) => {\n      const indexOffset = idx - activeIndex;\n      const classList = bullet.className.split(\" \");\n\n      for (const className of classList) {\n        if (className === bulletActiveClass || prevClassRegex.test(className) || nextClassRegex.test(className)) {\n          removeClass(bullet, className);\n        }\n      }\n\n      if (indexOffset === 0) {\n        addClass(bullet, bulletActiveClass);\n      } else if (indexOffset > 0) {\n        addClass(bullet, bulletNextClass(Math.abs(indexOffset)));\n      } else {\n        addClass(bullet, bulletPrevClass(Math.abs(indexOffset)));\n      }\n    });\n\n    pagination.scrollOnChange(activeIndex, {\n      total: bullets.length,\n      prevIndex,\n      sliderIndex: this._sliderIndex,\n      direction: activeIndex > prevIndex ? DIRECTION.NEXT : DIRECTION.PREV,\n      bullets: [...bullets],\n      moveTo: this.moveTo\n    });\n\n    this._previousIndex = activeIndex;\n  }\n\n  public moveTo = (index: number): void => {\n    const pagination = this._pagination;\n    const sliderEl = this._wrapper.firstElementChild as HTMLElement;\n    const bulletSize = this._bulletSize;\n    const wrapperSize = bulletSize * pagination.bulletCount;\n\n    sliderEl.style.transform = `translate(${wrapperSize / 2 - (index + 0.5) * bulletSize}px)`;\n    this._sliderIndex = index;\n  };\n}\n\nexport default ScrollBulletRenderer;\n","import Flicking, { EVENTS, Plugin } from \"@egjs/flicking\";\n\nimport { PAGINATION } from \"../const\";\nimport ScrollContext from \"../type\";\n\nimport Renderer from \"./renderer/Renderer\";\nimport BulletRenderer from \"./renderer/BulletRenderer\";\nimport FractionRenderer from \"./renderer/FractionRenderer\";\nimport ScrollBulletRenderer from \"./renderer/ScrollBulletRenderer\";\n\nexport interface PaginationOptions {\n  parentEl: HTMLElement | null;\n  selector: string;\n  type: \"bullet\" | \"fraction\" | \"scroll\";\n  classPrefix: string;\n  bulletCount: number;\n  renderBullet: (className: string, index: number) => string;\n  renderFraction: (currentClass: string, totalClass: string) => string;\n  renderActiveBullet: ((className: string, index: number) => string) | null;\n  fractionCurrentFormat: (index: number) => string;\n  fractionTotalFormat: (total: number) => string;\n  scrollOnChange: (index: number, ctx: ScrollContext) => any;\n}\n\n/**\n * @memberof Flicking.Plugins\n */\nclass Pagination implements Plugin {\n  /* Internal Values */\n  private _flicking: Flicking | null = null;\n  private _renderer: Renderer;\n  private _wrapper: HTMLElement;\n\n  /* Options */\n  private _parentEl: PaginationOptions[\"parentEl\"];\n  private _selector: PaginationOptions[\"selector\"];\n  private _type: PaginationOptions[\"type\"];\n  private _classPrefix: PaginationOptions[\"classPrefix\"];\n  private _bulletCount: PaginationOptions[\"bulletCount\"];\n  private _renderBullet: PaginationOptions[\"renderBullet\"];\n  private _renderActiveBullet: PaginationOptions[\"renderActiveBullet\"];\n  private _renderFraction: PaginationOptions[\"renderFraction\"];\n  private _fractionCurrentFormat: PaginationOptions[\"fractionCurrentFormat\"];\n  private _fractionTotalFormat: PaginationOptions[\"fractionTotalFormat\"];\n  private _scrollOnChange: PaginationOptions[\"scrollOnChange\"];\n\n  public get parentEl() { return this._parentEl; }\n  public get selector() { return this._selector; }\n  public get type() { return this._type; }\n  public get classPrefix() { return this._classPrefix; }\n  public get bulletCount() { return this._bulletCount; }\n  public get renderBullet() { return this._renderBullet; }\n  public get renderActiveBullet() { return this._renderActiveBullet; }\n  public get renderFraction() { return this._renderFraction; }\n  public get fractionCurrentFormat() { return this._fractionCurrentFormat; }\n  public get fractionTotalFormat() { return this._fractionTotalFormat; }\n  public get scrollOnChange() { return this._scrollOnChange; }\n\n  public set parentEl(val: PaginationOptions[\"parentEl\"]) { this._parentEl = val; }\n  public set selector(val: PaginationOptions[\"selector\"]) { this._selector = val; }\n  public set type(val: PaginationOptions[\"type\"]) { this._type = val; }\n  public set bulletWrapperclassPrefixClass(val: PaginationOptions[\"classPrefix\"]) { this._classPrefix = val; }\n  public set bulletCount(val: PaginationOptions[\"bulletCount\"]) { this._bulletCount = val; }\n  public set renderBullet(val: PaginationOptions[\"renderBullet\"]) { this._renderBullet = val; }\n  public set renderActiveBullet(val: PaginationOptions[\"renderActiveBullet\"]) { this._renderActiveBullet = val; }\n  public set renderFraction(val: PaginationOptions[\"renderFraction\"]) { this._renderFraction = val; }\n  public set fractionCurrentFormat(val: PaginationOptions[\"fractionCurrentFormat\"]) { this._fractionCurrentFormat = val; }\n  public set fractionTotalFormat(val: PaginationOptions[\"fractionTotalFormat\"]) { this._fractionTotalFormat = val; }\n  public set scrollOnChange(val: PaginationOptions[\"scrollOnChange\"]) { this._scrollOnChange = val; }\n\n  public constructor({\n    parentEl = null,\n    selector = PAGINATION.SELECTOR,\n    type = PAGINATION.TYPE.BULLET,\n    classPrefix = PAGINATION.PREFIX,\n    bulletCount = 5,\n    renderBullet = (className: string) => `<span class=\"${className}\"></span>`,\n    renderActiveBullet = null,\n    renderFraction = (currentClass: string, totalClass: string) => `<span class=\"${currentClass}\"></span>/<span class=\"${totalClass}\"></span>`,\n    fractionCurrentFormat = (index: number) => index.toString(),\n    fractionTotalFormat = (index: number) => index.toString(),\n    scrollOnChange = (index: number, ctx: ScrollContext) => ctx.moveTo(index)\n  }: Partial<PaginationOptions> = {}) {\n    this._parentEl = parentEl;\n    this._selector = selector;\n    this._type = type;\n    this._classPrefix = classPrefix;\n    this._bulletCount = bulletCount;\n    this._renderBullet = renderBullet;\n    this._renderActiveBullet = renderActiveBullet;\n    this._renderFraction = renderFraction;\n    this._fractionCurrentFormat = fractionCurrentFormat;\n    this._fractionTotalFormat = fractionTotalFormat;\n    this._scrollOnChange = scrollOnChange;\n  }\n\n  public init(flicking: Flicking): void {\n    if (this._flicking) {\n      this.destroy();\n    }\n\n    this._flicking = flicking;\n\n    const type = this._type;\n    const selector = this._selector;\n    const parentEl = this._parentEl ? this._parentEl : flicking.element;\n    const wrapper = parentEl.querySelector(selector);\n\n    if (!wrapper) {\n      throw new Error(`[Flicking-Pagination] Couldn't find element with the given selector: ${selector}`);\n    }\n\n    this._wrapper = wrapper as HTMLElement;\n    this._renderer = this._createRenderer(type);\n\n    flicking.on(EVENTS.WILL_CHANGE, this._onIndexChange);\n    flicking.on(EVENTS.WILL_RESTORE, this._onIndexChange);\n    flicking.on(EVENTS.PANEL_CHANGE, this.update);\n\n    this.update();\n  }\n\n  public destroy(): void {\n    const flicking = this._flicking;\n\n    if (!flicking) {\n      return;\n    }\n\n    flicking.off(EVENTS.WILL_CHANGE, this._onIndexChange);\n    flicking.off(EVENTS.WILL_RESTORE, this._onIndexChange);\n    flicking.off(EVENTS.PANEL_CHANGE, this.update);\n\n    this._renderer.destroy();\n    this._removeAllChilds();\n    this._flicking = null;\n  }\n\n  public update = (): void => {\n    this._removeAllChilds();\n    this._renderer.render();\n  };\n\n  private _createRenderer(type: PaginationOptions[\"type\"]) {\n    const options = {\n      flicking: this._flicking!,\n      pagination: this,\n      wrapper: this._wrapper\n    };\n\n    switch (type) {\n      case PAGINATION.TYPE.BULLET:\n        return new BulletRenderer(options);\n      case PAGINATION.TYPE.FRACTION:\n        return new FractionRenderer(options);\n      case PAGINATION.TYPE.SCROLL:\n        return new ScrollBulletRenderer(options);\n      default:\n        throw new Error(`[Flicking-Pagination] type \"${type}\" is not supported.`);\n    }\n  }\n\n  private _onIndexChange = (evt: { index: number }) => {\n    this._renderer.update(evt.index);\n  };\n\n  private _removeAllChilds() {\n    const wrapper = this._wrapper;\n\n    while (wrapper.firstChild) {\n      wrapper.removeChild(wrapper.firstChild);\n    }\n  }\n}\n\nexport default Pagination;\n"],"names":["addClass","el","className","classList","add","split","indexOf","removeClass","remove","classRegex","RegExp","replace","getElement","selector","parent","pluginName","querySelector","Error","scale","_this","_onMove","flicking","_flicking","visiblePanels","forEach","panel","progress","outsetProgress","element","target","_selector","parentTarget","parentNode","rect","getBoundingClientRect","transform","width","_scale","style","cssText","Object","this","val","destroy","on","EVENTS","MOVE","AFTER_RESIZE","update","off","opacity","Math","min","max","abs","_a","_b","_c","duration","_d","animationDuration","undefined","_e","direction","DIRECTION","NEXT","_f","stopOnHover","delayAfterHover","_movePanel","_duration","_playing","clearTimeout","_timerId","_mouseEntered","stop","_delayAfterHover","_animationDuration","_direction","_stopOnHover","MOVE_START","HOLD_START","MOVE_END","play","SELECT","targetEl","addEventListener","_onMouseEnter","_onMouseLeave","removeEventListener","animating","window","setTimeout","moveType","MOVE_TYPE","FREE_SCROLL","range","camera","cameraPosition","position","currentPanel","prevPanel","prev","nextPanel","next","currentPosition","nextPosition","prevPosition","restSize","catch","BROWSER","CLICK","MOUSE_DOWN","TOUCH_START","ARROW","PREV_SELECTOR","NEXT_SELECTOR","DISABLED_CLASS","PAGINATION","SELECTOR","PREFIX","BULLET_WRAPPER_SUFFIX","BULLET_SUFFIX","BULLET_ACTIVE_SUFFIX","FRACTION_WRAPPER_SUFFIX","FRACTION_CURRENT_SUFFIX","FRACTION_TOTAL_SUFFIX","SCROLL_UNINIT_SUFFIX","SCROLL_WRAPPER_SUFFIX","SCROLL_SLIDER_SUFFIX","SCROLL_PREV_SUFFIX","SCROLL_NEXT_SUFFIX","TYPE","BULLET","FRACTION","SCROLL","SYNC","CAMERA","INDEX","parentEl","prevElSelector","nextElSelector","disabledClass","_g","moveCount","_h","moveByViewportSize","e","stopPropagation","anchorPoints","length","firstAnchor","_moveCount","_moveByViewportSize","control","moveToPosition","size","_onCatch","circularEnabled","targetPanel","i","focus","index","moveTo","lastAnchor","controller","holding","_updateClass","animatingContext","end","err","FlickingError","_parentEl","_prevElSelector","_nextElSelector","_disabledClass","_prevEl","_nextEl","_onAnimation","prevEl","nextEl","evt","_preventInputPropagation","passive","_onPrevClick","_onNextClick","pos","cameraRange","stopAtPrevEdge","stopAtNextEdge","type","synchronizedFlickingOptions","_type","_synchronizedFlickingOptions","isSlidable","isClickable","_onMoveStart","_onMoveEnd","WILL_CHANGE","_onIndexChange","WILL_RESTORE","_onSelect","currentTarget","initialized","_synchronizeByIndex","rangeDiff","targetPosition","lookAt","disableInput","enableInput","updateInput","activeFlicking","_preventEvent","options","targetIndex","clamp","panels","once","activeClass","synced","_addEvents","syncedFlicking","defaultIndex","_removeEvents","fn","rotate","perspective","_rotate","_perspective","horizontal","panelScale","rotateDegree","rotateX","rotateY","pagination","wrapper","_pagination","_wrapper","html","bullet","document","createRange","createContextualFragment","firstChild","_addBulletEvents","panelIndex","__extends","classPrefix","_bullets","_prevIndex","bulletClass","_bulletClass","_activeClass","renderBullet","renderActiveBullet","bulletWrapperClass","innerHTML","map","anchorPoint","join","bullets","slice","call","children","prevIndex","activeBulletIndex","prevBullet","newBullet","_createBulletFromString","parentElement","replaceChild","activeBullet","newActiveBullet","Renderer","_prevTotal","fractionWrapperClass","fractionCurrentClass","fractionTotalClass","renderFraction","currentIndex","anchorCount","fractionCurrentSelector","fractionTotalSelector","currentWrapper","totalWrapper","fractionCurrentFormat","fractionTotalFormat","sliderEl","firstElementChild","bulletSize","_bulletSize","wrapperSize","bulletCount","_sliderIndex","_previousIndex","dynamicWrapperClass","sliderClass","uninitClass","createElement","appendChild","_","bulletStyle","getComputedStyle","clientWidth","parseFloat","marginLeft","marginRight","requestAnimationFrame","activeIndex","bulletActiveClass","prevClassPrefix","nextClassPrefix","prevClassRegex","nextClassRegex","idx","indexOffset","classList_1","_i","test","offset","bulletNextClass","bulletPrevClass","scrollOnChange","total","sliderIndex","PREV","_j","_k","currentClass","totalClass","_l","toString","_m","_o","ctx","_removeAllChilds","_renderer","render","_classPrefix","_bulletCount","_renderBullet","_renderActiveBullet","_renderFraction","_fractionCurrentFormat","_fractionTotalFormat","_scrollOnChange","_createRenderer","PANEL_CHANGE","BulletRenderer","FractionRenderer","ScrollBulletRenderer","removeChild"],"mappings":"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"}